<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>JANA2: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JANA2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__u_home_nbrei_src__j_a_n_a2_src_examples__j_example2__r_e_a_d_m_e.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>JExample1</p>
<p>This example demonstates a simple event source in a plugin. To run it, type type this:</p>
<p>jana -PPLUGINS=JExample1 nada</p>
<p>This will run the generic jana executable and have it attach the JExample1 plugin. The "nada" argument is a dummy argument representing an event source (usually a file name). In this case, a file is not actually read, so the name is not important. This will run for 1000000 "events" and then stop.</p>
<p>This example demonstates how to read events into JANA. No actual processing of events is done. They are simply created, placed in the main "Physics Events" queue, and then pulled from the queue and discarded. A number of features that would be exercised in a standard JANA implementation are not used here for simplicity. See other examples for those.</p>
<h2>Details </h2>
<p>JANA generates events by calling the GetEvent() method of a <a class="el" href="class_j_event_source.html">JEventSource</a> object. The job of the <a class="el" href="class_j_event_source.html">JEventSource</a> is to read in an "event" so it can be placed on a queue for further processing. Here, "event" may be a complete physics event or may be some large buffer containing a block of many physics events. In general, the event source should only read the data with minimal processing on it. This is because the GetEvent() calls are serialized so only one thread tries to read from the source at a time. It is worth noting here that if multiple sources are given to a single JANA job, it may read from those in parallel, but each one will be read by only one thread at a time.</p>
<p>For simple implementations like this however, one may just want to unmarshall the data in GetEvent(), placing the items in members of the <a class="el" href="class_j_event.html">JEvent</a> subclass.</p>
<p>The <a class="el" href="class_j_event_source_generator.html" title="This is a base class for all event source generators. ">JEventSourceGenerator</a> class is what allows JANA to simultaneously support reading files from multiple types of sources. Each source that is specified for a job is passed as a string to the CheckOpenable() method of all <a class="el" href="class_j_event_source_generator.html" title="This is a base class for all event source generators. ">JEventSourceGenerator</a> objects registered in the application. Each examines the string and returns a value from 0-1.0 indicating how confident it is that it can read events from this source. For example, if you had two file formats that you wanted to read events from, their corresponding <a class="el" href="class_j_event_source_generator.html" title="This is a base class for all event source generators. ">JEventSourceGenerator</a> classes could simply check the suffix of the source and return 0 for all but the one type it can read. JANA will call the MakeJEventSource method of the generator chosen to open the source. In this example, the CheckOpenable() method always returns 0.5. It could return anything &gt;0 since it is the only source available in this example and so will always be chosen.</p>
<p>The source for this example is compact enough that it is contained in a single file: JExample1.cc. It defines 3 classes and the special InitPlugin() routine that gets called when the plugin is attached. See comments in the source for more details. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 26 2019 15:15:06 for JANA2 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
